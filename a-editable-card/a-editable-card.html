<!-- polymer elements -->
<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../mat-elements/mat-icon-button.html">
<link rel="import" href="../../mat-elements/mat-icons/editor.html">

<dom-module id="a-editable-card">
	<template>
		<style>
			:host {
				padding: 20px 40px;
				background: var(--primary-background-color);
				box-shadow: var(--primary-shadow);
				max-width: 98%;
				border-radius: 2px;
				float: right;
				color: var(--primary-text-color);
				position: relative;
				z-index: 1;
				margin: 15px 10px;
				box-sizing: border-box;
			}

			.edit-icon {
				position: absolute;
				z-index: 100;
				top: 0;
				right: 0;
			}

			.buttons-container {
				width: 100%;
				display: flex;
				justify-content: flex-end;
			}

			.save-button {
				color: var(--fifth-text-color);
			}


		</style>
		<template is="dom-if" if="{{isEditable}}">
			<div>
				<slot name="editing"></slot>
				<div class="buttons-container">
					<paper-button on-click="changeState">لغو</paper-button>
					<paper-button on-click="changeState" class="save-button">ذخیره</paper-button>
				</div>
			</div>
		</template>
		<template is="dom-if" if="{{!isEditable}}">
			<mat-icon-button class="edit-icon" icon="editor:mode-edit" on-click="changeState"></mat-icon-button>
			<div>
				<slot name="presenting"></slot>
			</div>
		</template>
	</template>

	<script>
		class AEditableCard extends Polymer.Element {
			static get is() { return 'a-editable-card' }
			static get properties() {
				return {
					isEditable: {
						type: Boolean,
						value: false
					}
				};
			}
			changeState() {
				this.isEditable = !this.isEditable;
			}
		}
		customElements.define(AEditableCard.is, AEditableCard)
	</script>
</dom-module>
